<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÄÄƒng KÃ½ & ÄÄƒng Nháº­p</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(120deg, #ff9966, #ff5e62);
            color: white;
            text-align: center;
        }

        .banner {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .hidden {
            display: none;
        }

        .modal-content {
            background: white;
            border-radius: 10px;
            padding: 20px;
        }

        .modal-header {
            border-bottom: none;
        }

        .modal-body input {
            border-radius: 20px;
            padding: 10px;
            border: 1px solid #ccc;
        }

        .btn-custom {
            border-radius: 20px;
            padding: 10px;
        }
    </style>
</head>
<body>

    <!-- Banner -->
    <div class="container mt-3">
        <div class="banner p-3 d-flex justify-content-between">
            <h3>ğŸ”¥ ChÃ o má»«ng Ä‘áº¿n vá»›i Website ğŸ”¥</h3>
            <div id="userSection">
                <button class="btn btn-warning btn-custom" data-bs-toggle="modal" data-bs-target="#registerModal">ÄÄƒng KÃ½</button>
                <button class="btn btn-success btn-custom" data-bs-toggle="modal" data-bs-target="#loginModal">ÄÄƒng Nháº­p</button>
            </div>
            <div id="welcomeSection" class="hidden">
                <span id="welcomeMessage" class="me-3"></span>
                <button onclick="logout()" class="btn btn-danger btn-custom">ÄÄƒng Xuáº¥t</button>
            </div>
        </div>
    </div>

    <!-- Modal ÄÄƒng KÃ½ -->
    <div class="modal fade" id="registerModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h5 class="modal-title">ÄÄƒng KÃ½</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="text" id="regUsername" class="form-control mb-2" placeholder="TÃªn Ä‘Äƒng nháº­p">
                    <input type="password" id="regPassword" class="form-control mb-2" placeholder="Máº­t kháº©u">
                    <button onclick="register()" class="btn btn-primary w-100 btn-custom">ÄÄƒng KÃ½</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ÄÄƒng Nháº­p -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h5 class="modal-title">ÄÄƒng Nháº­p</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="text" id="loginUsername" class="form-control mb-2" placeholder="TÃªn Ä‘Äƒng nháº­p">
                    <input type="password" id="loginPassword" class="form-control mb-2" placeholder="Máº­t kháº©u">
                    <button onclick="login()" class="btn btn-success w-100 btn-custom">ÄÄƒng Nháº­p</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let savedUser = localStorage.getItem("username");
            let isLoggedIn = localStorage.getItem("isLoggedIn");

            if (savedUser && isLoggedIn === "true") {
                showUser(savedUser);
            }
        });

        function register() {
            let user = document.getElementById("regUsername").value;
            let pass = document.getElementById("regPassword").value;

            if (user && pass) {
                localStorage.setItem("username", user);
                localStorage.setItem("password", pass);
                alert("ğŸ‰ ÄÄƒng kÃ½ thÃ nh cÃ´ng! Vui lÃ²ng Ä‘Äƒng nháº­p.");

                // áº¨n form Ä‘Äƒng kÃ½, hiá»ƒn thá»‹ form Ä‘Äƒng nháº­p
                var registerModal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
                registerModal.hide();
                var loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
                loginModal.show();
            } else {
                alert("âš ï¸ Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!");
            }
        }

        function login() {
            let user = document.getElementById("loginUsername").value;
            let pass = document.getElementById("loginPassword").value;
            let savedUser = localStorage.getItem("username");
            let savedPass = localStorage.getItem("password");

            if (user === savedUser && pass === savedPass) {
                alert("âœ… ÄÄƒng nháº­p thÃ nh cÃ´ng!");
                localStorage.setItem("isLoggedIn", "true");
                showUser(user);

                // áº¨n modal Ä‘Äƒng nháº­p Ä‘Ãºng cÃ¡ch
                var loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                if (loginModal) {
                    loginModal.hide();
                }

                // XÃ³a lá»›p ná»n má» cá»§a modal náº¿u cÃ²n tá»“n táº¡i
                document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());

            } else {
                alert("âš ï¸ TÃ i khoáº£n chÆ°a Ä‘Äƒng kÃ½ hoáº·c sai máº­t kháº©u!");
            }
        }

        function showUser(user) {
            document.getElementById("userSection").classList.add("hidden");
            document.getElementById("welcomeSection").classList.remove("hidden");
            document.getElementById("welcomeMessage").innerText = `ğŸ‘‹ Xin chÃ o, ${user}`;
        }

        function logout() {
            localStorage.setItem("isLoggedIn", "false");
            alert("ğŸ‘‹ Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t!");
            location.reload();
        }
    </script>

</body>
</html>
